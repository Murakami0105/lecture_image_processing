#課題９ メディアンフィルタと鮮鋭化

「」を原画像とする．この画像は縦画素x，横画素yのディジタルカラー画像である．


	ORG=imread('Lenna.png'); % 原画像の入力
	ORG=rgb2gray(ORG); % 白黒濃淡画像へ変換
	imagesc(ORG); colormap(gray); colorbar;

で画像を読み込み，縦横軸とカラーバーと共に原画像の表示を行う．表示した画像を図1に示す．  
![原画像]()  
図1．原画像(白黒濃淡画像)  

	ORG = imnoise(ORG,'salt & pepper',0.02); % ノイズ添付
	imagesc(ORG); colormap(gray); colorbar; % 画像の表示
	title('ノイズ付加画像')
	pause;

でこの画像にノイズを付加する．表示した結果画像を図2に示す．  
![ノイズ付加画像]()  
図2．ノイズ付加画像  

フィルタを用いて，この画像からノイズを除去する．平滑化フィルタ，メディアンフィルタによるノイズ除去を行う．

	IMG = filter2(fspecial('average',3),ORG); % 平滑化フィルタで雑音除去
	imagesc(IMG); colormap(gray); colorbar; % 画像の表示
	title('平滑化フィルタ適用後')
	pause;

で平滑化フィルタによるノイズ除去を行う．結果を図3に示す．  
![ノイズ除去画像(平滑化フィルタ)]()  
図3．ノイズ除去画像(平滑化フィルタ)  


	IMG = medfilt2(ORG,[3 3]); % メディアンフィルタで雑音除去
	imagesc(IMG); colormap(gray); colorbar; % 画像の表示
	title('メディアンフィルタ適用後')
	pause;

でメディアンフィルタによるノイズ除去を行う．結果を図4に示す．  
![ノイズ除去画像(メディアンフィルタ)]()  
図4．ノイズ除去画像(メディアンフィルタ)  

また，メディアンフィルタによるノイズ除去画像を，フィルタを通して鮮鋭化する．

	f=[0,-1,0;-1,5,-1;0,-1,0]; % フィルタの設計
	IMG = filter2(f,IMG,'same'); % フィルタの適用
	imagesc(IMG); colormap(gray); colorbar; % 画像の表示
	title('設計フィルタ適用後')
	pause;

で鮮鋭化を行う．結果を図5に示す．  
![鮮鋭化画像]()  
図5．鮮鋭化画像  


ノイズは，MATLABの関数で付加する色が飛んだ画素である．
平滑化フィルタは，画素ごとの細かな変動をなくして滑らかな画像にする行うフィルタである．中心画素の濃度値を周囲の画素の濃度の平均値にする処理を行う．
ノイズによる色の大きな変動は薄くなっているが，ノイズが目で見てわかる程度には残ってしまっている．それだけではなく，輪郭などがぼやけて見えるようになっている．
メディアンフィルタは平滑化フィルタとは違い，中心画素の濃度は周囲画素の平均値ではなく，中央値にする処理を行う．平滑化に比べて，ノイズはほぼ完全に除去されたと言える．輪郭のぼけなども発生していない．

鮮鋭化は，画像の濃度値の変化を強調する処理である．濃度値が大きく変化する場所は主に輪郭部であるので，輪郭部が強調される．しかし，そうでない部分は灰色にぼけた感じになってしまっている．そのため，輪郭部はさらに強調されて見えることとなる．
